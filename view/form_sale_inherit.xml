<?xml version="1.0" encoding="utf-8"?>
<odoo>

    

    <record id="inherit_view_id_inherit_module_name" model="ir.ui.view">
        <field name="name">sale.order.view.form.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_confirm'][2]" position="after">
                <field name="is_servicio" invisible="1"/>
                <button name="action_open_wizard_sale"
                        id="action_open_wizard_sale"
                        string="Confirmar"
                        type="object"
                        invisible="state not in ['draft', 'sent'] or not is_servicio"/>
            </xpath>

            <xpath expr="//button[@name='action_confirm'][2]" position="attributes">
                <attribute name="invisible">state not in ["draft", "sent"] or is_servicio</attribute>
            </xpath>
        </field>
    </record>


    <!-- Vista del wizard -->
    <record id="view_wizard_sale_order_form" model="ir.ui.view">
        <field name="name">wizard.sale.order.form</field>
        <field name="model">wizard.sale.order</field>
        <field name="arch" type="xml">
        <form string="Confirmacion de venta">
                <sheet>
                    <div class="alert alert-warning">
                        <p>
                            ¿Estás seguro de confirmar? Tiene un producto <b>Servicio</b> pero no has anexado un equipo.
                        </p>
                    </div>
                </sheet>
                <footer>
                    <button name="confirm_sale" string="Confirmar de todas formas" type="object" class="btn-primary"/>
                    <button string="Cancelar" class="btn-secondary" special="cancel"/>
                </footer>
            </form>        
        </field>
    </record>

    

</odoo>
